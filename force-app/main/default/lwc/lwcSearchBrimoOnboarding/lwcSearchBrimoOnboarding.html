<!--
    LWC Name    : lwcSearchBrimoOnboarding.html
    Created Date       : 14 July 2025
    @description       : This is class ..
    @author            : Rakeyan Nuramria
    Modification Log :
    Ver   Date         Author                            Modification
    1.0   14/07/2025   Rakeyan Nuramria                  Initial Version
-->

<template>
    <lightning-card icon-name="standard:search">
        <div slot="title">
            Pencarian Onboarding BRIMO
        </div>
        <!-- <div slot="actions"></div>
        <div slot="footer"></div> -->
        <div>
            <!-- Card Body  -->
            <!-- Search Section -->
            <lightning-card title="" variant="base"
                class="custom-card slds-m-top_xx-small slds-card_boundary slds-m-around_small">
                <div class="slds-grid slds-gutters slds-m-around_small">
                    <div class="slds-col" style="display: flex; flex-direction: column;">
                        <lightning-input label="NIK" value={nik} onchange={handleNIKChange}
                            disabled={disableNIKField}></lightning-input>
                        <div style="color: red; min-height: 20px;">{nikNumberError}</div>
                        <!-- Adjust min-height as needed -->
                    </div>
                    <div class="slds-col" style="align-self: flex-start; margin-top: 22px;">
                        <lightning-button label="Cari" variant="brand" onclick={handleSearch}
                            disabled={isSearchButtonDisabled}></lightning-button>
                    </div>
                </div>
            </lightning-card>
            <!-- End Search Section -->

            <!-- Loading Spinner -->
            <template if:true={isLoading}>
                <div class="spinner-container" style="height:6rem;position:relative">
                    <div role="status" class="slds-spinner slds-spinner_small">
                        <span class="slds-assistive-text">Loading</span>
                        <div class="slds-spinner__dot-a"></div>
                        <div class="slds-spinner__dot-b"></div>
                    </div>
                </div>
            </template>

            <!-- Error Message -->
            <template if:true={hasError}>
                <div class="slds-text-color_error slds-m-top_medium slds-text-align_center">
                    <b>{errorMsg}</b>
                </div>
            </template>

            <!-- Result Section -->
            <template if:true={showResult}>
                <p class="slds-m-vertical_small slds-m-left_small"><u>Hasil Pencarian...</u></p>

                <!-- Informasi Onboarding BRIMO Card -->
                <lightning-card icon-name="utility:user" variant="base"
                    class="custom-card slds-m-around_small slds-card_boundary">

                    <div slot="title">
                        Informasi Onboarding BRIMO
                    </div>

                    <div class="slds-grid slds-wrap slds-m-around_medium">
                        <div class="slds-col slds-size_4-of-12">
                            <div class="slds-form-element">
                                <label class="slds-form-element__label" for="nama-lengkap">Nama Lengkap</label>
                                <div class="slds-form-element__control">
                                    <input class="slds-input text-bold" type="text" id="nama-lengkap" readonly
                                        value={responseData.name} />
                                </div>
                            </div>
                        </div>

                        <div class="slds-col slds-size_4-of-12">
                            <div class="slds-form-element">
                                <label class="slds-form-element__label" for="nik-display">NIK</label>
                                <div class="slds-form-element__control">
                                    <input class="slds-input text-bold" type="text" id="nik-display" readonly
                                        value={responseData.nik} />
                                </div>
                            </div>
                        </div>

                        <div class="slds-col slds-size_4-of-12">
                            <div class="slds-form-element">
                                <label class="slds-form-element__label" for="status">Status</label>
                                <div class="slds-form-element__control">
                                    <input class="slds-input text-bold" type="text" id="status" readonly
                                        value={responseData.status_description} />
                                </div>
                            </div>
                        </div>
                    </div>
                </lightning-card>
            </template>
            <!-- End Result Section -->
        </div>
    </lightning-card>
</template>