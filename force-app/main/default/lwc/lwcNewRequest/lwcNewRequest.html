<template> 
    <div class="full-width-l-w-c">
        <lightning-card title="Opportunity Form">
            <template if:true={isLoading}>
                <lightning-spinner alternative-text="Loading" size="medium" variant="brand"></lightning-spinner>
            </template>
            <div class="slds-p-around_medium">
                <template if:false={disabledAccount}>
                    <div style="text-align:right;">
                        <lightning-button
                            variant="brand"
                            label="Renewal/Endorsement"
                            onclick={handleRenewal}>
                        </lightning-button>
                    </div>
                </template>
                <div class="slds-grid slds-wrap slds-gutters_small">
                    <!-- OPPORTUNITY TYPE-->
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-combobox 
                                label="Opportunity Type"
                                options={opportunityType}
                                onchange={handleOpportunityType}
                                value={opportunityTypeId} 
                                required>
                        </lightning-combobox>    
                    </div>
                    <!--ACCOUNT NAME-->
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-record-picker
                            label="Account Name"
                            placeholder="Search Account Name..."
                            object-api-name="Account"
                            display-fields="Name"
                            onchange={handleAccountSelected}
                            display-info={displayInfo}
                            matching-info={matchingInfo}
                            value={accountId}
                            disabled={disabledAccount}
                            required>
                        </lightning-record-picker>
                    </div>
                    <!-- ACCOUNT DETAIL-->
                    <template if:true={accountId}>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-combobox 
                                    label="Account Pipeline Status"
                                    options={requestorPipelineStatus}
                                    onchange={handleRequestorPipelineStatus} 
                                    value={requestorPipelineStatusId}
                                    required>
                            </lightning-combobox>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-combobox 
                                    label="Account Type"
                                    options={requestorType}
                                    onchange={handleRequestorType} 
                                    value={requestorTypeId}
                                    required>
                            </lightning-combobox>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-combobox 
                                    label="Account Segment"
                                    options={requestorSegment}
                                    onchange={handleRequestorSegment} 
                                    value={requestorSegmentId}
                                    required>
                            </lightning-combobox>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-combobox 
                                    label="Account Sub Segment"
                                    options={requestorSubSegment}
                                    onchange={handleRequestorSubSegment} 
                                    value={requestorSubSegmentId}
                                    required>
                            </lightning-combobox>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-combobox 
                                    label="Account Business Segmentation"
                                    options={requestorBusinessSegmentation}
                                    onchange={handleRequestorBusinessSegmentation} 
                                    value={requestorBusinessSegmentationId}
                                    required>
                            </lightning-combobox>
                        </div>
                        <template if:true={showChannel}>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-combobox 
                                        label="Account Channel"
                                        options={requestorChannel}
                                        onchange={handleRequestorChannel} 
                                        value={requestorChannelId}
                                        required>
                                </lightning-combobox>
                            </div>
                        </template>
                        <div class="slds-col slds-size_1-of-1">
                            <lightning-textarea
                                label="Account Address"
                                value={requestorAddress}
                                onchange={handleRequestorAddress}
                                required>
                            </lightning-textarea>
                        </div>
                    </template>
                    <!--INSURED-->
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-record-picker
                            label="The Insured Name"
                            placeholder="Search Insured Name..."
                            object-api-name="Account"
                            display-fields="Name"
                            onchange={handleInsuredSelected}
                            display-info={displayInfo}
                            matching-info={matchingInfo}
                            value={insuredId}
                            required>
                        </lightning-record-picker>
                    </div>
                    <!--INSURED ADDRESS-->
                    <template if:true={showInsured}>
                        <div class="slds-col slds-size_1-of-1">
                            <lightning-textarea
                                label="The Insured Address"
                                value={accountAddress}
                                onchange={handleInsuredAddress}
                                required>
                            </lightning-textarea>
                        </div>
                    </template>
                    <!--QQ MEMBER-->
                    <lightning-card
                        title="QQ Information"
                        icon-name="standard:app"
                        class="slds-m-top_medium"
                        style="width:100%;">
                        <div class="slds-p-horizontal_small slds-p-vertical_x-small">
                            <!-- Search input -->
                            <lightning-input
                                type="search"
                                label="Search Account for QQ Member"
                                placeholder="Type to searchâ€¦"
                                value={searchKey}
                                onchange={handleSearchKeyChange}
                                >
                            </lightning-input>
                            <!-- Live lookup dropdown -->
                            <template if:true={searchResults.length}>
                                <div class="slds-dropdown slds-dropdown_fluid slds-is-open">
                                    <ul class="slds-listbox slds-listbox_vertical" role="listbox">
                                        <template for:each={searchResults} for:item="acc">
                                            <li key={acc.Id} role="presentation" class="slds-listbox__item">
                                                <div class="slds-listbox__option slds-listbox__option_entity"
                                                    role="option"
                                                    data-id={acc.Id}
                                                    data-name={acc.Name}
                                                    data-address={acc.Address__c}
                                                    data-type={acc.Type}
                                                    onclick={handleSelectAccount}>
                                                    <span class="slds-listbox__option-text slds-listbox__option-text_entity">
                                                        {acc.Name}<br/>{acc.Additional__c}
                                                    </span>
                                                </div>
                                            </li>
                                        </template>
                                    </ul>
                                </div>
                            </template>
                            <!-- Selected Members datatable -->
                            <lightning-datatable
                                class="slds-m-top_medium"
                                key-field="id"
                                data={members}
                                columns={columns}
                                hide-checkbox-column
                                onrowaction={handleRowAction}>
                            </lightning-datatable>
                        </div>
                    </lightning-card>
                    <!--SINGLE / MULTIPLE-->
                    <template if:true={showrecord}>
                    <div class="slds-col slds-size_1-of-1">
                        <template for:each={options} for:item="item">
                            <fieldset key={item.value} style="display: block; float: left;">
                                <div class="slds-form-element__control">
                                    <span class="slds-radio">
                                        <input name="radiogroup" data-id={item.value} id={item.value} type="radio" value={item.value}
                                            onchange={handleSelected}/>
                                        <label class="slds-radio__label" for={item.value}>
                                            <span class="slds-radio_faux"></span>
                                            <span class="slds-form-element__label">{item.label}</span>
                                        </label>
                                    </span>
                                </div>
                            </fieldset>
                        </template>
                    </div>
                    </template>
                    <!--DETAIL-->
                    <lightning-accordion allow-multiple-sections-open
                        onsectiontoggle={handleSectionToggle}
                        active-section-name={activeSections} style="width:100%;">
                        <!-- SINGLE -->
                        <template if:true={showSingle}>
                            <lightning-accordion-section name="A" label="Opportunity 1">  
                                <div class="slds-grid slds-wrap slds-gutters_small">
                                    <!-- COB-->
                                    <div class="slds-col slds-size_1-of-2">
                                        <c-input name="COB__c" map-input={mapInput} object-api-name="Opportunity" field-name="COB__c" field-type="Picklist" field-label="Line (COB)" field-required="true" field-value={cob1} onchange={handleChangeCOB1}></c-input>
                                    </div>
                                    <!-- PRODUCT TYPE-->
                                    <div class="slds-col slds-size_1-of-2">
                                    <lightning-combobox 
                                            label="Product Type"
                                            options={productType}
                                            onchange={handleProductType} 
                                            value={productTypeId}
                                            required>
                                    </lightning-combobox>
                                    </div>
                                    <!-- POLICY WORDING}-->
                                    <div class="slds-col slds-size_1-of-2">
                                    <lightning-combobox 
                                            label="Wording Type"
                                            options={policyWording}
                                            onchange={handlePolicyWording} 
                                            required>
                                    </lightning-combobox>
                                    </div>
                                    <!-- CONTRACT TYPE-->
                                    <div class="slds-col slds-size_1-of-2">
                                    <lightning-combobox 
                                            label="Contract Type"
                                            options={contractType}
                                            onchange={handleContractType}
                                            value={contractTypeId}>
                                    </lightning-combobox>
                                    </div>
                                    <template if:true={showIAR}>
                                        <!-- IAR/PAR-->
                                        <div class="slds-col slds-size_1-of-1">
                                        <lightning-combobox 
                                            label="Wording Standard"
                                            options={wording}
                                            onchange={handleWording}
                                            required>
                                        </lightning-combobox>
                                        </div>
                                    </template>    
                                    <!-- MOU-->
                                    <template if:true={showFieldMOU}>
                                        <div class="slds-col slds-size_1-of-2">
                                            <lightning-record-picker
                                                label="MOU"
                                                placeholder="Search MOU..."
                                                object-api-name="Contract"
                                                display-fields="Name"
                                                onchange={handleMOUSelected1}
                                                display-info={displayInfoMOU}
                                                matching-info={matchingInfoMOU}
                                                filter={filterMOU1}>
                                            </lightning-record-picker>
                                        </div>
                                    </template> 
                                    <!-- REALISASI-->
                                    <template if:true={showFieldRealisasi1}>
                                        <div class="slds-col slds-size_1-of-2">
                                            <lightning-record-picker
                                                label="Realisasi"
                                                placeholder="Search Realisasi..."
                                                object-api-name="Opportunity"
                                                display-fields="Name"
                                                onchange={handleRealisasiSelected1}
                                                display-info={displayInfoRealisasi}
                                                matching-info={matchingInfoRealisasi}
                                                filter={filterRealisasi1}>
                                            </lightning-record-picker>
                                        </div>
                                    </template> 
                                    <!-- INSURANCE PERIOD-->
                                    <lightning-accordion active-section-name="1period" allow-multiple-sections-open style="width:100%;"> 
                                        <lightning-accordion-section name="1period" label="Insurance Period">
                                            <div class="slds-grid slds-wrap slds-gutters_small">
                                            <!-- Insurance Type -->
                                            <template if:false={showPremium}>
                                                <div class="slds-col slds-size_1-of-1">
                                                    <lightning-radio-group
                                                        name="periodType"
                                                        label="Insurance Type"
                                                        type="button"
                                                        options={insuranceTypeOptions}
                                                        value={periodType}
                                                        onchange={handleInsurance}
                                                        required>
                                                    </lightning-radio-group>
                                                </div>
                                            </template>
                                            <!-- Dates -->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input
                                                    type="date"
                                                    label="Start Date"
                                                    value={startDate}
                                                    onchange={handleStartDateChange}
                                                    required>
                                                </lightning-input>
                                            </div>
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input
                                                    type="date"
                                                    label="End Date"
                                                    value={endDate}
                                                    onchange={handleEndDateChange}
                                                    required>
                                                </lightning-input>
                                            </div>
                                            <!-- PREMIUM CALCULATION-->
                                            <template if:true={showPremium}>
                                                <div class="slds-col slds-size_1-of-1">
                                                    <lightning-combobox 
                                                            label="Premium Calculation"
                                                            options={premiumCalculation}
                                                            onchange={handlePremiumCalculation} 
                                                            value={premiumCalculationId}
                                                            >
                                                    </lightning-combobox>
                                                </div>
                                            </template>
                                            <!-- Annual -->
                                            <template if:true={isAnnual}>
                                                <div class="slds-col slds-size_1-of-1">
                                                    <lightning-input
                                                        name="years"
                                                        type="number"
                                                        label="Number of Years"
                                                        value={years}
                                                        onchange={handleYearsChange}
                                                        style="display: none;">
                                                    </lightning-input>
                                                </div>
                                            </template>
                                            <!-- Short-Period -->
                                            <template if:true={isShort}>
                                                <div class="slds-col slds-size_1-of-1">
                                                    <lightning-radio-group
                                                    name="shortBasis"
                                                    label="Short-Period Basis"
                                                    type="button"
                                                    options={shortBasisOptions}
                                                    value={shortBasis}
                                                    onchange={handleShortBasisChange}
                                                    required>
                                                    </lightning-radio-group>
                                                </div>
                                                <template if:true={isPercentageBasis}>
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <lightning-input
                                                            name="percentage"
                                                            label="Percentage (%)"
                                                            type="number"
                                                            min="0"
                                                            max="99.99"
                                                            step="0.01"
                                                            value={percentage}
                                                            onchange={handlePercentageChange}
                                                            required>
                                                        </lightning-input>
                                                    </div>
                                                </template>
                                            </template>
                                            <!-- Information: Days & Rate -->
                                            <template if:true={showInfo}>
                                                <div class="slds-col slds-size_1-of-1">
                                                    <div class="slds-box slds-theme_shade slds-p-around_small slds-m-vertical_small">
                                                    <template if:true={isProRataBasis}>
                                                        <p>Number of Days: {dayCount}</p>
                                                        <p>Rate: {calculatedRate}</p>
                                                    </template>
                                                    <template if:true={isLongTerm}>
                                                        <p class="slds-m-vertical_small">
                                                        Duration: {yearsMonthsInfo}
                                                        </p>
                                                    </template>
                                                    </div>
                                                </div>
                                            </template>
                                            <template if:true={isLongTerm}>
                                                <div class="slds-col slds-size_1-of-1">
                                                    <lightning-card title="Schema">
                                                        <lightning-combobox
                                                            name="schema"
                                                            placeholder="Select Schema"
                                                            label="Select Schema"
                                                            options={schemaOptions}
                                                            onchange={handleSchemaChange}>
                                                        </lightning-combobox>
                                                        <template if:true={hasSchemaType}>
                                                            <table class="slds-table slds-table_cell-buffer slds-table_bordered"
                                                                    style="margin-top: 10px !important;">
                                                                <thead>
                                                                <tr>
                                                                    <th scope="col">Tahun ke-</th>
                                                                    <th scope="col">Value</th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <template for:each={displayRows} for:item="row">
                                                                    <tr key={row.year}>
                                                                        <td>{row.year}</td>
                                                                        <td>
                                                                            <template if:true={row.type}>
                                                                                <lightning-combobox
                                                                                    name="rowType"
                                                                                    data-year={row.year}
                                                                                    label="Basis"
                                                                                    options={shortBasisOptions}
                                                                                    value={row.type}
                                                                                    onchange={handleRowTypeChange}>
                                                                                </lightning-combobox>
                                                                            </template>
                                                                            <lightning-input
                                                                                type="text"
                                                                                name="rowPercentage"
                                                                                data-year={row.year}
                                                                                value={row.percentage}
                                                                                inputmode="decimal"
                                                                                onkeydown={handleRowPercentageKeyDown}
                                                                                oninput={handleRowPercentageInput}
                                                                                onpaste={handleRowPercentagePaste}
                                                                                onchange={handleRowPercentageChange}>
                                                                            </lightning-input>
                                                                        </td>
                                                                    </tr>
                                                                </template>
                                                                </tbody>
                                                            </table>
                                                        </template>
                                                    </lightning-card>
                                                </div>
                                            </template>
                                            </div>
                                        </lightning-accordion-section>    
                                    </lightning-accordion>
                                    <!-- MOU-->
                                    <template if:true={showMOU}>
                                        <!-- RISK-->
                                        <lightning-accordion active-section-name="1Risk" allow-multiple-sections-open style="width:100%;">
                                            <lightning-accordion-section name="1Risk" label="Risk">
                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <!-- RISK NAME -->
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <lightning-input type="text" label="Risk Name" value={riskName} onchange={handleRiskName} required></lightning-input>
                                                    </div>
                                                     <!-- RISK DETAIL-->
                                                    <template if:true={datafieldMOU1} for:each={datafieldMOU1} for:item="section" for:index="index">
                                                        <lightning-accordion key={section.name} active-section-name={section.name} allow-multiple-sections-open style="width:100%;">
                                                            <lightning-accordion-section name={section.name} label={section.name}>
                                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                                    <template if:true={section.data} for:each={section.data} for:item="data" for:index="index">
                                                                        <div key={data.name} class="slds-col slds-size_1-of-2">
                                                                            <c-input key={data.name} map-input={mapInputMOU1} object-api-name={data.dataobject} field-name={data.datafield} field-type={data.datatype} field-label={data.datalabel} field-lookup={data.datalookup} field-filter={data.datafilter} field-required={data.datarequired} field-value={data.value} data-index={index} onchange={handleInputMOU1}></c-input>
                                                                        </div>
                                                                    </template>
                                                                </div>
                                                            </lightning-accordion-section>
                                                        </lightning-accordion>
                                                    </template>
                                                </div>
                                            </lightning-accordion-section>
                                        </lightning-accordion>
                                        <!--ASSET-->
                                        <lightning-accordion active-section-name="1Asset" allow-multiple-sections-open style="width:100%;">
                                            <lightning-accordion-section name="1Asset" label="Asset">
                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <lightning-datatable 
                                                            class="slds-m-top_medium"
                                                            key-field="Id"
                                                            data={dataAssetMOU1}
                                                            columns={columnsAssetMOU1}
                                                            hide-checkbox-column
                                                            onrowaction={handleRowActionAssetMOU1}>
                                                        </lightning-datatable>
                                                    </div>
                                                </div>
                                                <div class="slds-col slds-size_1-of-1" style="padding-top:5px;">
                                                    <lightning-button
                                                        variant="brand"
                                                        label="Asset"
                                                        icon-name="utility:add"
                                                        onclick={handleAddAssetMOU1}>
                                                    </lightning-button>
                                                </div>
                                            </lightning-accordion-section>
                                        </lightning-accordion>
                                        <!--COVERAGE-->
                                        <lightning-accordion active-section-name="1Coverage" allow-multiple-sections-open style="width:100%;">
                                            <lightning-accordion-section name="1Coverage" label="Coverage">
                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <lightning-datatable 
                                                            class="slds-m-top_medium"
                                                            key-field="Id"
                                                            data={dataCoverageMOU1}
                                                            columns={columnsCoverageMOU1}
                                                            hide-checkbox-column
                                                            onrowaction={handleRowActionCoverageMOU1}>
                                                        </lightning-datatable>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-1" style="padding-top:5px;">
                                                        <lightning-button
                                                            variant="brand"
                                                            label="Coverage"
                                                            icon-name="utility:add"
                                                            onclick={handleAddCoverageMOU1}>
                                                        </lightning-button>
                                                    </div>
                                                </div>
                                            </lightning-accordion-section>
                                        </lightning-accordion>
                                    </template>
                                    <!-- REALISASI-->
                                    <template if:true={showRealisasi1}>
                                        <!-- RISK-->
                                        <lightning-accordion active-section-name="1Risk" allow-multiple-sections-open style="width:100%;">
                                            <lightning-accordion-section name="1Risk" label="Risk">
                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <!-- RISK NAME -->
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <lightning-input type="text" label="Risk Name" value={riskName} onchange={handleRiskName} required></lightning-input>
                                                    </div>
                                                     <!-- RISK DETAIL-->
                                                    <template if:true={datafieldRealisasi1} for:each={datafieldRealisasi1} for:item="section" for:index="index">
                                                        <lightning-accordion key={section.name} active-section-name={section.name} allow-multiple-sections-open style="width:100%;">
                                                            <lightning-accordion-section name={section.name} label={section.name}>
                                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                                    <template if:true={section.data} for:each={section.data} for:item="data" for:index="index">
                                                                        <div key={data.name} class="slds-col slds-size_1-of-2">
                                                                            <c-input key={data.name} map-input={mapInputRealisasi1} object-api-name={data.dataobject} field-name={data.datafield} field-type={data.datatype} field-label={data.datalabel} field-lookup={data.datalookup} field-filter={data.datafilter} field-required={data.datarequired} field-value={data.value} data-index={index} onchange={handleInputRealisasi1}></c-input>
                                                                        </div>
                                                                    </template>
                                                                </div>
                                                            </lightning-accordion-section>
                                                        </lightning-accordion>
                                                    </template>
                                                </div>
                                            </lightning-accordion-section>
                                        </lightning-accordion>
                                        <!--ASSET-->
                                        <lightning-accordion active-section-name="1Asset" allow-multiple-sections-open style="width:100%;">
                                            <lightning-accordion-section name="1Asset" label="Asset">
                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <lightning-datatable 
                                                            class="slds-m-top_medium"
                                                            key-field="Id"
                                                            data={dataAssetRealisasi1}
                                                            columns={columnsAssetRealisasi1}
                                                            hide-checkbox-column
                                                            onrowaction={handleRowActionAssetRealisasi1}>
                                                        </lightning-datatable>
                                                    </div>
                                                </div>
                                                <div class="slds-col slds-size_1-of-1" style="padding-top:5px;">
                                                    <lightning-button
                                                        variant="brand"
                                                        label="Asset"
                                                        icon-name="utility:add"
                                                        onclick={handleAddAssetRealisasi1}>
                                                    </lightning-button>
                                                </div>
                                            </lightning-accordion-section>
                                        </lightning-accordion>
                                        <!--COVERAGE-->
                                        <lightning-accordion active-section-name="1Coverage" allow-multiple-sections-open style="width:100%;">
                                            <lightning-accordion-section name="1Coverage" label="Coverage">
                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <lightning-datatable 
                                                            class="slds-m-top_medium"
                                                            key-field="Id"
                                                            data={dataCoverageRealisasi1}
                                                            columns={columnsCoverageRealisasi1}
                                                            hide-checkbox-column
                                                            onrowaction={handleRowActionCoverageRealisasi1}>
                                                        </lightning-datatable>
                                                    </div>
                                                    <div class="slds-col slds-size_1-of-1" style="padding-top:5px;">
                                                        <lightning-button
                                                            variant="brand"
                                                            label="Coverage"
                                                            icon-name="utility:add"
                                                            onclick={handleAddCoverageRealisasi1}>
                                                        </lightning-button>
                                                    </div>
                                                </div>
                                            </lightning-accordion-section>
                                        </lightning-accordion>
                                    </template>
                                    <!-- STANDARD-->
                                    <template if:true={showStandard}>
                                        <!-- RISK NAME -->
                                        <div class="slds-col slds-size_1-of-1">
                                            <lightning-input type="text" label="Risk Name" value={riskName} onchange={handleRiskName} required></lightning-input>
                                        </div>
                                        <!-- RISK DESCRIPTION-->
                                        <template if:true={dataDescription1.length}> 
                                            <lightning-accordion active-section-name="1B" allow-multiple-sections-open style="width:100%;">
                                                <lightning-accordion-section name="1B" label="Risk Description"> 
                                                    <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <!-- DETAIL-->
                                                    <template for:each={dataDescription1} for:item="data" for:index="index">
                                                        <div key={data.name} class="slds-col slds-size_1-of-2">
                                                            <c-input key={data.name} map-input={mapInput} object-api-name={data.object} field-name={data.field} field-type={data.type} field-label={data.label} field-lookup={data.lookup} field-filter={data.filter} field-required={data.required} field-value={data.value} data-index={index} onchange={handleInputDesc}></c-input>
                                                        </div>
                                                    </template>
                                                    </div>
                                                </lightning-accordion-section>
                                            </lightning-accordion>
                                        </template>
                                        <!-- RISK SITUATION -->
                                        <template if:true={datafield1.length}> 
                                            <lightning-accordion active-section-name="1A" allow-multiple-sections-open style="width:100%;">
                                                <lightning-accordion-section name="1A" label="Risk Situation"> 
                                                    <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <!-- DETAIL-->
                                                    <template for:each={datafield1} for:item="data" for:index="index">
                                                        <div key={data.name} class="slds-col slds-size_1-of-2">
                                                            <c-input key={data.name} map-input={mapInput} object-api-name={data.object} field-name={data.field} field-type={data.type} field-label={data.label} field-lookup={data.lookup} field-filter={data.filter} field-required={data.required} field-value={data.value} data-index={index} onchange={handleCInput}></c-input>
                                                        </div>
                                                    </template>
                                                    </div>
                                                </lightning-accordion-section>
                                            </lightning-accordion>
                                        </template>
                                        <!-- SECTION OPPORTUNITY FORMAT-->
                                        <lightning-accordion if:true={showFormat1} active-section-name="1C" allow-multiple-sections-open style="width:100%;">
                                            <lightning-accordion-section name="1C" label="Opportunity Format">
                                                <div class="slds-grid slds-wrap slds-gutters_small">
                                                    <!-- SUMMARY / SPECIFIC -->
                                                    <div class="slds-col slds-size_1-of-1">
                                                        <template if:true={showFormat1} for:each={formats} for:item="item">
                                                            <fieldset key={item.value} style="display: block; float: left;">
                                                                <div class="slds-form-element__control">
                                                                    <span class="slds-radio">
                                                                        <input name="gpFormat1" data-id={item.value} id={item.value} type="radio" value={item.value}
                                                                            onchange={handleFormat}/>
                                                                        <label class="slds-radio__label" for={item.value}>
                                                                            <span class="slds-radio_faux"></span>
                                                                            <span class="slds-form-element__label">{item.label}</span>
                                                                        </label>
                                                                    </span>
                                                                </div>
                                                            </fieldset>
                                                        </template>
                                                    </div>
                                                    <!-- SUMMARY -->
                                                    <template if:true={showSummary}>
                                                        <!-- ASSET SECTION-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <lightning-combobox 
                                                                label="Asset Section"
                                                                options={assetSection}
                                                                onchange={handleAssetSection} 
                                                                required>
                                                            </lightning-combobox>
                                                        </div>
                                                        <!-- ASSET CATEGORY-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <lightning-combobox 
                                                                label="Asset Category"
                                                                options={assetCategory}
                                                                onchange={handleAssetCategory}>
                                                            </lightning-combobox>
                                                        </div>
                                                        <!-- CURRENCY-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <lightning-combobox 
                                                                label="Currency"
                                                                options={currency}
                                                                onchange={handleCurrency} 
                                                                required>
                                                            </lightning-combobox>
                                                        </div> 
                                                        <div class="slds-col slds-size_1-of-2"></div>
                                                        <!-- SUM INSURED-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <lightning-input type="number" label="Top Risk Sum Insured" onchange={handleSumInsured} required></lightning-input>
                                                        </div>
                                                        <!-- SUM INSURED IDR-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <template if:true={showIDR}>
                                                                <lightning-input type="number" label="Top Risk Sum Insured IDR" value={sumInsuredIDR} disabled></lightning-input>
                                                            </template>
                                                        </div>
                                                        <!-- PREMIUM-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <lightning-input type="number" label="Total Gross Premium" onchange={handlePremium} required></lightning-input>
                                                        </div>
                                                        <!-- PREMIUM IDR-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <template if:true={showIDR}>
                                                                <lightning-input type="number" label="Total Gross Premium IDR" value={premiumIDR} disabled></lightning-input>
                                                            </template>
                                                        </div>
                                                        <!--RISK PROFILE-->
                                                        <template for:each={dataSummary1} for:item="data" for:index="index">
                                                            <div key={data.name} class="slds-col slds-size_1-of-2">
                                                                <c-input key={data.name} map-input={mapSummary1} object-api-name={data.object} field-name={data.field} field-type={data.type} field-label={data.label} field-lookup={data.lookup} field-filter={data.filter} field-required={data.required} field-value={data.value} data-index={index} onchange={handleInputProfile}></c-input>
                                                            </div>
                                                        </template>
                                                        <!-- QUANTITY OF RISK-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <lightning-input type="number" label="Quantity Of Risk" onchange={handleNumberOfRisk} required></lightning-input>
                                                        </div>
                                                        <!-- EXPECTED DATE OF CLOSING-->
                                                        <div class="slds-col slds-size_1-of-2">
                                                            <lightning-input type="date" label="Expected Date Of Closing" onchange={handleClosedDate} required></lightning-input>
                                                        </div>
                                                        <!-- DESCRIPTION-->
                                                        <div class="slds-col slds-size_1-of-1">
                                                            <lightning-textarea label="Description" onchange={handleDescription} value={description}></lightning-textarea>
                                                        </div>
                                                        <!-- FILE-->
                                                        <template if:true={showFull}>
                                                            <div class="slds-grid">
                                                                <!-- FILE QUOTATION SLIP-->
                                                                <div class="slds-col slds-size_1-of-3">
                                                                    <lightning-file-upload
                                                                        label="Quotation &amp; Supporting Document"
                                                                        accept={acceptedFormats}
                                                                        record-id={myFileId}
                                                                        onuploadfinished={handleUploadFinished}
                                                                        multiple 
                                                                        required>
                                                                    </lightning-file-upload>
                                                                    <!-- VIEW FILE QUOTATION SLIP-->
                                                                    <template if:true={filequote1.length} for:each={filequote1} for:item="file">
                                                                        <div key={file.name} style="display: flex;" >
                                                                            <p>{file.name}</p>&nbsp;
                                                                            <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                                    data-id={file.documentId} onclick={handleDelete} size="small">
                                                                            </lightning-button-icon>
                                                                        </div>
                                                                        <br key={file.name}/>
                                                                    </template>
                                                                </div>
                                                                <!-- FILE CLOSING SLIP-->
                                                                <div class="slds-col slds-size_1-of-3">
                                                                    <lightning-file-upload
                                                                        label="Closing Slip"
                                                                        accept={acceptedFormats}
                                                                        record-id={myFileId}
                                                                        onuploadfinished={handleUploadFinished1}
                                                                        multiple>
                                                                    </lightning-file-upload>
                                                                    <!-- VIEW FILE CLOSING SLIP-->
                                                                    <template if:true={fileclosing1.length} for:each={fileclosing1} for:item="file">
                                                                        <div key={file.name} style="display: flex;" >
                                                                            <p>{file.name}</p>&nbsp;
                                                                            <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                                    data-id={file.documentId} onclick={handleDelete1} size="small">
                                                                            </lightning-button-icon>
                                                                        </div>
                                                                        <br key={file.name}/>
                                                                    </template>
                                                                </div>
                                                                <!-- FILE SURVEY REPORT-->
                                                                <div class="slds-col slds-size_1-of-3">
                                                                    <lightning-file-upload
                                                                        label="Survey Report"
                                                                        accept={acceptedFormats}
                                                                        record-id={myFileId}
                                                                        onuploadfinished={handleUploadFinished2}
                                                                        multiple>
                                                                    </lightning-file-upload>
                                                                    <!-- VIEW FILE SURVEY REPORT-->
                                                                    <template if:true={filesurvey1.length} for:each={filesurvey1} for:item="file">
                                                                        <div key={file.name} style="display: flex;" >
                                                                            <p>{file.name}</p>&nbsp;
                                                                            <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                                    data-id={file.documentId} onclick={handleDelete2} size="small">
                                                                            </lightning-button-icon>
                                                                        </div>
                                                                        <br key={file.name}/>
                                                                    </template>
                                                                </div>
                                                            </div>
                                                        </template>
                                                        <template if:false={showFull}>
                                                            <div class="slds-grid">
                                                                <!-- FILE QUOTATION SLIP-->
                                                                <div class="slds-col slds-size_1-of-2">
                                                                    <lightning-file-upload
                                                                        label="Quotation &amp; Supporting Document"
                                                                        accept={acceptedFormats}
                                                                        record-id={myFileId}
                                                                        onuploadfinished={handleUploadFinished}
                                                                        multiple 
                                                                        required>
                                                                    </lightning-file-upload>
                                                                    <!-- VIEW FILE QUOTATION SLIP-->
                                                                    <template if:true={filequote1.length} for:each={filequote1} for:item="file">
                                                                        <div key={file.name} style="display: flex;" >
                                                                            <p>{file.name}</p>&nbsp;
                                                                            <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                                    data-id={file.documentId} onclick={handleDelete} size="small">
                                                                            </lightning-button-icon>
                                                                        </div>
                                                                        <br key={file.name}/>
                                                                    </template>
                                                                </div>
                                                                <!-- FILE CLOSING SLIP-->
                                                                <div class="slds-col slds-size_1-of-2">
                                                                    <lightning-file-upload
                                                                        label="Closing Slip"
                                                                        accept={acceptedFormats}
                                                                        record-id={myFileId}
                                                                        onuploadfinished={handleUploadFinished1}
                                                                        multiple>
                                                                    </lightning-file-upload>
                                                                    <!-- VIEW FILE CLOSING SLIP-->
                                                                    <template if:true={fileclosing1.length} for:each={fileclosing1} for:item="file">
                                                                        <div key={file.name} style="display: flex;" >
                                                                            <p>{file.name}</p>&nbsp;
                                                                            <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                                    data-id={file.documentId} onclick={handleDelete1} size="small">
                                                                            </lightning-button-icon>
                                                                        </div>
                                                                        <br key={file.name}/>
                                                                    </template>
                                                                </div>
                                                            </div>
                                                            <!-- FILE SURVEY REPORT-->
                                                            <div class="slds-col slds-size_1-of-2">
                                                                    <lightning-file-upload
                                                                        label="Survey Report"
                                                                        accept={acceptedFormats}
                                                                        record-id={myFileId}
                                                                        onuploadfinished={handleUploadFinished2}
                                                                        multiple>
                                                                    </lightning-file-upload>
                                                                    <!-- VIEW FILE SURVEY REPORT-->
                                                                    <template if:true={filesurvey1.length} for:each={filesurvey1} for:item="file">
                                                                        <div key={file.name} style="display: flex;" >
                                                                            <p>{file.name}</p>&nbsp;
                                                                            <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                                    data-id={file.documentId} onclick={handleDelete2} size="small">
                                                                            </lightning-button-icon>
                                                                        </div>
                                                                        <br key={file.name}/>
                                                                    </template>
                                                            </div>
                                                        </template>
                                                    </template>
                                                </div>
                                            </lightning-accordion-section>
                                        </lightning-accordion>
                                    </template>
                                </div>
                            </lightning-accordion-section>
                        </template>
                        <!-- MULTIPLE -->
                        <template if:true={showMultiple}>
                        <lightning-accordion-section name="B" label="Opportunity 2">
                            <div class="slds-grid slds-wrap slds-gutters_small">
                            <!-- COB-->
                            <div class="slds-col slds-size_1-of-2">
                                <c-input name="COB__c" map-input={mapInput2} object-api-name="Opportunity" field-name="COB__c" field-type="Picklist" field-label="Line (COB)" field-required="true" onchange={handleChangeCOB2}></c-input>
                            </div>
                            <!-- PRODUCT TYPE-->
                            <div class="slds-col slds-size_1-of-2">
                            <lightning-combobox 
                                    label="Product Type"
                                    options={productType2}
                                    onchange={handleProductType2}
                                    required>
                            </lightning-combobox>
                            </div>
                            <!-- POLICY WORDING}-->
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-combobox 
                                    label="Wording Type"
                                    options={policyWording2}
                                    onchange={handlePolicyWording2} 
                                    required>
                                </lightning-combobox>
                            </div>
                            <!-- CONTRACT TYPE-->
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-combobox 
                                        label="Contract Type"
                                        options={contractType2}
                                        onchange={handleContractType2}
                                        value={contractTypeId2}>
                                </lightning-combobox> 
                            </div>
                            <template if:true={showIAR2}>
                                <!-- IAR/PAR-->
                                <div class="slds-col slds-size_1-of-1">
                                    <lightning-combobox 
                                        label="Wording Standard"
                                        options={wording2}
                                        onchange={handleWording2}
                                        required>
                                    </lightning-combobox>
                                </div>
                            </template>  
                            <!-- INSURANCE PERIOD-->
                            <lightning-accordion active-section-name="2period" allow-multiple-sections-open style="width:100%;">
                                <lightning-accordion-section name="2period" label="Insurance Period">
                                    <div class="slds-grid slds-wrap slds-gutters_small">
                                    <!-- Insurance Type -->
                                    <template if:false={showPremium2}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <lightning-radio-group
                                                name="periodType2"
                                                label="Insurance Type"
                                                type="button"
                                                options={insuranceTypeOptions}
                                                value={periodType2}
                                                onchange={handleInsurance2}
                                                required>
                                            </lightning-radio-group>
                                        </div>
                                    </template>
                                    <!-- Dates -->
                                    <div class="slds-col slds-size_1-of-2">
                                        <lightning-input
                                            type="date"
                                            label="Start Date"
                                            value={startDate2}
                                            onchange={handleStartDateChange2}
                                            required>
                                        </lightning-input>
                                    </div>
                                    <div class="slds-col slds-size_1-of-2">
                                        <lightning-input
                                            type="date"
                                            label="End Date"
                                            value={endDate2}
                                            onchange={handleEndDateChange2}
                                            required>
                                        </lightning-input>
                                    </div>
                                    <!-- PREMIUM CALCULATION-->
                                    <template if:true={showPremium2}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <lightning-combobox 
                                                    label="Premium Calculation"
                                                    options={premiumCalculation}
                                                    onchange={handlePremiumCalculation2} 
                                                    value={premiumCalculationId2}
                                                    >
                                            </lightning-combobox>
                                        </div>
                                    </template>
                                    <!-- Annual -->
                                    <template if:true={isAnnual2}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <lightning-input
                                                name="years2"
                                                type="number"
                                                label="Number of Years"
                                                value={years2}
                                                onchange={handleYearsChange2}
                                                style="display: none;">
                                            </lightning-input>
                                        </div>
                                    </template>
                                    <!-- Short-Period -->
                                    <template if:true={isShort2}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <lightning-radio-group
                                            name="shortBasis2"
                                            label="Short-Period Basis"
                                            type="button"
                                            options={shortBasisOptions}
                                            value={shortBasis2}
                                            onchange={handleShortBasisChange2}>
                                            </lightning-radio-group>
                                        </div>
                                        <template if:true={isPercentageBasis2}>
                                            <div class="slds-col slds-size_1-of-1">
                                                <lightning-input
                                                    name="percentage2"
                                                    label="Percentage (%)"
                                                    type="number"
                                                    min="0"
                                                    max="99.99"
                                                    step="0.01"
                                                    value={percentage2}
                                                    onchange={handlePercentageChange2}>
                                                </lightning-input>
                                            </div>
                                        </template>
                                    </template>
                                    <!-- Information: Days & Rate -->
                                    <template if:true={showInfo2}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <div class="slds-box slds-theme_shade slds-p-around_small slds-m-vertical_small">
                                                <template if:true={isProRataBasis2}>
                                                    <p>Number of Days: {dayCount2}</p>
                                                    <p>Rate: {calculatedRate2}</p>
                                                </template>
                                                <template if:true={isLongTerm2}>
                                                    <p class="slds-m-vertical_small">
                                                    Duration: {yearsMonthsInfo2}
                                                    </p>
                                                </template>
                                            </div>
                                        </div>
                                    </template>
                                    <template if:true={isLongTerm2}>
                                        <div class="slds-col slds-size_1-of-1">
                                            <lightning-card title="Schema">
                                                <lightning-combobox
                                                    name="schema2"
                                                    placeholder="Select Schema"
                                                    label="Select Schema"
                                                    options={schemaOptions}
                                                    onchange={handleSchemaChange2}
                                                    >
                                                </lightning-combobox>
                                                <template if:true={hasSchemaType2}>
                                                <table class="slds-table slds-table_cell-buffer slds-table_bordered"
                                                        style="margin-top: 10px !important;">
                                                    <thead>
                                                    <tr>
                                                        <th scope="col">Year</th>
                                                        <th scope="col">Value</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                        <template for:each={displayRows2} for:item="row">
                                                            <tr key={row.year}>
                                                                <td>{row.year}</td>
                                                                <td>
                                                                    <template if:true={row.type}>
                                                                        <lightning-combobox
                                                                            name="rowType2"
                                                                            data-year={row.year}
                                                                            label="Basis"
                                                                            options={shortBasisOptions}
                                                                            value={row.type}
                                                                            onchange={handleRowTypeChange2}>
                                                                        </lightning-combobox>
                                                                    </template>
                                                                    <lightning-input
                                                                        type="text"
                                                                        name="rowPercentage2"
                                                                        data-year={row.year}
                                                                        value={row.percentage}
                                                                        inputmode="decimal"
                                                                        onkeydown={handleRowPercentageKeyDown2}
                                                                        oninput={handleRowPercentageInput2}
                                                                        onpaste={handleRowPercentagePaste2}
                                                                        onchange={handleRowPercentageChange2}>
                                                                    </lightning-input>
                                                                </td>
                                                            </tr>
                                                        </template>
                                                    </tbody>
                                                </table>
                                                </template>
                                            </lightning-card>
                                        </div>
                                    </template>
                                    </div>
                                </lightning-accordion-section>    
                            </lightning-accordion>
                            <!-- PREMIUM CALCULATION-->
                            <template if:true={showPremium2}>
                                <div class="slds-col slds-size_1-of-1">
                                    <lightning-combobox 
                                            label="Premium Calculation"
                                            options={premiumCalculation2}
                                            onchange={handlePremiumCalculation2} 
                                            >
                                    </lightning-combobox>
                                </div>
                            </template>
                            <!-- RISK NAME-->
                            <div class="slds-col slds-size_1-of-1">
                                <lightning-input type="text" label="Risk Name" value={riskName2} onchange={handleRiskName2} required></lightning-input>
                            </div>
                            <!-- RISK DESCRIPTION-->
                            <template if:true={dataDescription2.length}> 
                                <lightning-accordion active-section-name="1B" allow-multiple-sections-open style="width:100%;">
                                    <lightning-accordion-section name="1B" label="Risk Description"> 
                                        <div class="slds-grid slds-wrap slds-gutters_small">
                                        <!-- DETAIL-->
                                        <template for:each={dataDescription2} for:item="data" for:index="index">
                                            <div key={data.name} class="slds-col slds-size_1-of-2">
                                                <c-input key={data.name} map-input={mapInput} object-api-name={data.object} field-name={data.field} field-type={data.type} field-label={data.label} field-lookup={data.lookup} field-filter={data.filter} field-required={data.required} field-value={data.value} data-index={index} onchange={handleInputDesc2}></c-input>
                                            </div>
                                        </template>
                                        </div>
                                    </lightning-accordion-section>
                                </lightning-accordion>
                            </template>
                            <!-- RISK SITUATION-->
                            <template if:true={datafield2.length}>
                                <lightning-accordion active-section-name="2A" allow-multiple-sections-open style="width:100%;">
                                    <lightning-accordion-section name="2A" label="Risk Situation">
                                        <div class="slds-grid slds-wrap slds-gutters_small">
                                            <!-- DETAIL-->
                                            <template for:each={datafield2} for:item="data" for:index="index">
                                                <div key={data.name} class="slds-col slds-size_1-of-2">
                                                    <c-input key={data.name} map-input={mapInput2} object-api-name={data.object} field-name={data.field} field-type={data.type} field-label={data.label} field-lookup={data.lookup} field-filter={data.filter} field-required={data.required} field-value={data.value} data-index={index} onchange={handleCInput2}></c-input>
                                                </div>
                                            </template>
                                        </div>
                                    </lightning-accordion-section>
                                </lightning-accordion>
                            </template>
                            <!-- SECTION OPPORTUNITY FORMAT-->
                            <lightning-accordion if:true={showFormat2} active-section-name="2C" allow-multiple-sections-open style="width:100%;">
                                <lightning-accordion-section name="2C" label="Opportunity Format">
                                    <div class="slds-grid slds-wrap slds-gutters_small">
                                        <!-- SUMMARY / SPESIFIC-->
                                        <div class="slds-col slds-size_1-of-1">
                                            <template if:true={showFormat2} for:each={formats2} for:item="item">
                                                <fieldset key={item.value} style="display: block; float: left;">
                                                    <div class="slds-form-element__control">
                                                        <span class="slds-radio">
                                                            <input name="gpFormat2" data-id={item.value} id={item.value} type="radio" value={item.value}
                                                                onchange={handleFormat2}/>
                                                            <label class="slds-radio__label" for={item.value}>
                                                                <span class="slds-radio_faux"></span>
                                                                <span class="slds-form-element__label">{item.label}</span>
                                                            </label>
                                                        </span>
                                                    </div>
                                                </fieldset>
                                            </template>
                                        </div>
                                        <!-- SUMMARY -->
                                        <template if:true={showSummary2}>
                                            <!-- ASSET SECTION-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-combobox 
                                                    label="Asset Section"
                                                    options={assetSection2}
                                                    onchange={handleAssetSection2} 
                                                    required>
                                                </lightning-combobox>
                                            </div>
                                            <!-- ASSET CATEGORY-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-combobox 
                                                    label="Asset Category"
                                                    options={assetCategory2}
                                                    onchange={handleAssetCategory2}>
                                                </lightning-combobox>
                                            </div>
                                            <!-- CURRENCY-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-combobox label="Currency" options={currency2} onchange={handleCurrency2} required>
                                                </lightning-combobox>
                                            </div> 
                                            <div class="slds-col slds-size_1-of-2"></div>
                                            <!-- SUM INSURED-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input type="number" label="Top Risk Sum Insured" onchange={handleSumInsured2} required></lightning-input>
                                            </div>
                                            <!-- SUM INSURED IDR-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <template if:true={showIDR2}>
                                                    <lightning-input type="number" label="Top Risk Sum Insured IDR" value={sumInsuredIDR2} disabled></lightning-input>
                                                </template>
                                            </div>
                                            <!-- PREMIUM-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input type="number" label="Total Gross Premium" onchange={handlePremium2} required></lightning-input>
                                            </div>
                                            <!-- PREMIUM IDR-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <template if:true={showIDR2}>
                                                    <lightning-input type="number" label="Total Gross Premium IDR" value={premiumIDR2} disabled></lightning-input>
                                                </template>
                                            </div>
                                            <!--RISK PROFILE-->
                                            <template for:each={dataSummary2} for:item="data" for:index="index">
                                                <div key={data.name} class="slds-col slds-size_1-of-2">
                                                    <c-input key={data.name} map-input={mapSummary2} object-api-name={data.object} field-name={data.field} field-type={data.type} field-label={data.label} field-lookup={data.lookup} field-filter={data.filter} field-required={data.required} field-value={data.value} data-index={index} onchange={handleInputProfile2}></c-input>
                                                </div>
                                            </template>
                                            <!-- QUANTITY OF RISK-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input type="number" label="Quantity Of Risk" onchange={handleNumberOfRisk2} required></lightning-input>
                                            </div>
                                            <!-- EXPECTED DATE OF CLOSING-->
                                            <div class="slds-col slds-size_1-of-2">
                                                <lightning-input type="date" label="Expected Date Of Closing" onchange={handleClosedDate2} required></lightning-input>
                                            </div>
                                            <!-- DESCRIPTION-->
                                            <div class="slds-col slds-size_1-of-1">
                                                <lightning-textarea label="Description" onchange={handleDescription2}></lightning-textarea>
                                            </div>
                                            <!-- FILE-->
                                            <template if:true={showFull}>
                                                <div class="slds-grid">
                                                    <!-- FILE QUOTATION SLIP-->
                                                    <div class="slds-col slds-size_1-of-3">
                                                        <lightning-file-upload
                                                            label="Quotation &amp; Supporting Document"
                                                            accept={acceptedFormats}
                                                            record-id={myFileId}
                                                            onuploadfinished={handleUploadFinished3}
                                                            multiple
                                                            required>
                                                        </lightning-file-upload>
                                                        <!-- VIEW FILE QUOTATION SLIP-->
                                                        <template if:true={filequote2.length} for:each={filequote2} for:item="file">
                                                            <div key={file.name} style="display: flex;" >
                                                                <p>{file.name}</p>&nbsp;
                                                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                        data-id={file.documentId} onclick={handleDelete3} size="small">
                                                                </lightning-button-icon>
                                                            </div>
                                                            <br key={file.name}/>
                                                        </template>
                                                    </div>
                                                    <!-- FILE CLOSING SLIP-->
                                                    <div class="slds-col slds-size_1-of-3">
                                                        <lightning-file-upload
                                                            label="Closing Slip"
                                                            accept={acceptedFormats}
                                                            record-id={myFileId}
                                                            onuploadfinished={handleUploadFinished4}
                                                            multiple>
                                                        </lightning-file-upload>
                                                        <!-- VIEW FILE CLOSING SLIP-->
                                                        <template if:true={fileclosing2.length} for:each={fileclosing2} for:item="file">
                                                            <div key={file.name} style="display: flex;" >
                                                                <p>{file.name}</p>&nbsp;
                                                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                        data-id={file.documentId} onclick={handleDelete4} size="small">
                                                                </lightning-button-icon>
                                                            </div>
                                                            <br key={file.name}/>
                                                        </template>
                                                    </div>
                                                    <!-- FILE SURVEY REPORT-->
                                                    <div class="slds-col slds-size_1-of-3">
                                                        <lightning-file-upload
                                                            label="Survey Report"
                                                            accept={acceptedFormats}
                                                            record-id={myFileId}
                                                            onuploadfinished={handleUploadFinished5}
                                                            multiple>
                                                        </lightning-file-upload>
                                                        <!-- VIEW FILE SURVEY REPORT-->
                                                        <template if:true={filesurvey2.length} for:each={filesurvey2} for:item="file">
                                                            <div key={file.name} style="display: flex;" >
                                                                <p>{file.name}</p>&nbsp;
                                                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                        data-id={file.documentId} onclick={handleDelete5} size="small">
                                                                </lightning-button-icon>
                                                            </div>
                                                            <br key={file.name}/>
                                                        </template>
                                                    </div>
                                                </div>
                                            </template>
                                            <template if:false={showFull}>
                                                <div class="slds-grid">
                                                    <!-- FILE QUOTATION SLIP-->
                                                    <div class="slds-col slds-size_1-of-2">
                                                        <lightning-file-upload
                                                            label="Quotation &amp; Supporting Document"
                                                            accept={acceptedFormats}
                                                            record-id={myFileId}
                                                            onuploadfinished={handleUploadFinished3}
                                                            multiple 
                                                            required>
                                                        </lightning-file-upload>
                                                        <!-- VIEW FILE QUOTATION SLIP-->
                                                        <template if:true={filequote2.length} for:each={filequote2} for:item="file">
                                                            <div key={file.name} style="display: flex;" >
                                                                <p>{file.name}</p>&nbsp;
                                                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                        data-id={file.documentId} onclick={handleDelete3} size="small">
                                                                </lightning-button-icon>
                                                            </div>
                                                            <br key={file.name}/>
                                                        </template>
                                                    </div>
                                                    <!-- FILE CLOSING SLIP-->
                                                    <div class="slds-col slds-size_1-of-2">
                                                        <lightning-file-upload
                                                            label="Closing Slip"
                                                            accept={acceptedFormats}
                                                            record-id={myFileId}
                                                            onuploadfinished={handleUploadFinished4}
                                                            multiple>
                                                        </lightning-file-upload>
                                                        <!-- VIEW FILE CLOSING SLIP-->
                                                        <template if:true={fileclosing2.length} for:each={fileclosing2} for:item="file">
                                                            <div key={file.name} style="display: flex;" >
                                                                <p>{file.name}</p>&nbsp;
                                                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                        data-id={file.documentId} onclick={handleDelete4} size="small">
                                                                </lightning-button-icon>
                                                            </div>
                                                            <br key={file.name}/>
                                                        </template>
                                                    </div>
                                                </div>
                                                <!-- FILE SURVEY REPORT-->
                                                <div class="slds-col slds-size_1-of-2">
                                                        <lightning-file-upload
                                                            label="Survey Report"
                                                            accept={acceptedFormats}
                                                            record-id={myFileId}
                                                            onuploadfinished={handleUploadFinished5}
                                                            multiple>
                                                        </lightning-file-upload>
                                                        <!-- VIEW FILE SURVEY REPORT-->
                                                        <template if:true={filesurvey2.length} for:each={filesurvey2} for:item="file">
                                                            <div key={file.name} style="display: flex;" >
                                                                <p>{file.name}</p>&nbsp;
                                                                <lightning-button-icon icon-name="utility:delete" alternative-text="Delete"
                                                                                        data-id={file.documentId} onclick={handleDelete5} size="small">
                                                                </lightning-button-icon>
                                                            </div>
                                                            <br key={file.name}/>
                                                        </template>
                                                </div>
                                            </template>
                                        </template>
                                    </div>
                                </lightning-accordion-section>
                            </lightning-accordion>
                            </div>
                        </lightning-accordion-section>
                        </template>
                    </lightning-accordion>
                </div>
                <div class="slds-m-top_medium">
                    <template if:true={showStandard}>
                        <lightning-button
                            variant="brand"
                            label="Submit"
                            onclick={handleSubmit}>
                        </lightning-button>
                    </template>
                    <template if:true={showMOU}>
                        <lightning-button
                            variant="brand"
                            label="Submit"
                            onclick={handleSubmitMOU}>
                        </lightning-button>
                    </template>
                    <template if:true={showRealisasi1}>
                        <lightning-button
                            variant="brand"
                            label="Submit"
                            onclick={handleSubmitRealisasi}>
                        </lightning-button>
                    </template>
                </div>
            </div>
        </lightning-card>
    </div>
</template>