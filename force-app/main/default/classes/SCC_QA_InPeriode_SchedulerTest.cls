/**
 * @description       : Test class for SCC_QA_InPeriode_Scheduler
 * @author            : Generated by Claude
 * @group             : Test
 * @last modified on  : 15-04-2025
 * @last modified by  : Ardyta Yudianto
**/
@isTest
private class SCC_QA_InPeriode_SchedulerTest {
    
    /**
     * Test the execution of the scheduler
     * Just verify that it runs without errors
     */
    @isTest
    static void testSchedulerExecution() {
        Test.startTest();
        
        // Create and execute the scheduler directly
        SCC_QA_InPeriode_Scheduler scheduler = new SCC_QA_InPeriode_Scheduler();
        scheduler.execute(null);
        
        Test.stopTest();
        
        // No assertions needed - we're just verifying it runs without errors
    }
    
    /**
     * Test that the job can be scheduled via the Apex Scheduler
     */
    @isTest
    static void testScheduleJob() {
        Test.startTest();
        
        // Schedule the job
        String cronExp = '0 0 8 * * ?'; // Daily at 8 AM
        String jobId = System.schedule('Test QA In Periode Scheduler', 
                                       cronExp, 
                                       new SCC_QA_InPeriode_Scheduler());
        
        Test.stopTest();
        
        // Verify that the job was scheduled
        CronTrigger ct = [SELECT Id, CronExpression, TimesTriggered, NextFireTime 
                          FROM CronTrigger 
                          WHERE Id = :jobId];
        
        System.assertEquals(cronExp, ct.CronExpression);
        System.assertEquals(0, ct.TimesTriggered);
        System.assertNotEquals(null, ct.NextFireTime);
    }
}