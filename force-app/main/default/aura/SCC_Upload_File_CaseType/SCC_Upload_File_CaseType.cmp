<aura:component controller="FileUploadController" implements="flexipage:availableForAllPageTypes,force:hasRecordId,force:lightningQuickActionWithoutHeader,lightning:actionOverride,lightning:hasPageReference" access="global">
    <aura:attribute name="files" type="Object[]" default="[]" description="Stores the list of upload files" />
    <aura:attribute name="isLoading" type="Boolean" default="false" />
    <aura:attribute name="recordId" type="String" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:attribute name="totalFileSize" type="Integer"  />
    <aura:attribute name ='errorMessage' type="String"/>

    
    <div class="slds-card" style="padding: 20px;border: 1px solid #ccc;box-shadow: 0 0 10px rgba(128, 128, 128, 0.2); background-color: #fff;border-radius: 5px;height:100%">
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                    <span class="slds-icon_container slds-icon-standard-account" title="upload-files">
                        <lightning:icon iconName="standard:file" alternative-text="Upload" title="upload-files" />
                    </span>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <p  class="slds-card__header-link slds-truncate" title="Card Title">
                            <span>Upload Files</span>
                        </p>
                    </h2>
                </div>
            </header>
        </div>
        <div class="slds-card__body slds-card__body_inner">
            
            <lightning:fileUpload recordId="{!v.recordId}" multiple="true"  onuploadfinished="{!c.handleUploadFinished}" />
            <p class="warn-file">*Perhatian: Ukuran berkas atau total berkas yang diunggah tidak boleh melebihi 25MB</p>
            <!-- <div class="succes-file">
                <p class="title">Hasil Upload : </p>
                <p style="color:black;margin-top:5px;font-weight:medium">mohon menunggu untuk hasil proses upload berkas anda</p>
                <aura:if isTrue="{!v.isLoading}">
                    <div class="custom-spinner-container">
                        <div class="custom-spinner">
                            <lightning:spinner alternativeText="Loading" size="small" variant="brand" />
                        </div>
                    </div>
                </aura:if>
                <aura:if isTrue="{!v.files.length > 0}">
                    <aura:iteration items="{!v.files}" var="file">
                        <div class="slds-grid card-success-file">
                            <div class="slds-media__figure" title="image-type file">
                                <span class="slds-icon_container" title="upload-files">
                                    <lightning:icon iconName="{!file.icon}" alternative-text="Upload" title="upload-files" />
                                </span>
                            </div>
                            <div class="body-success-file">
                                <p class="title">{!file.fileName}</p>
                                <aura:if isTrue="{!file.isUpload}">
                                    <p style="color: green; margin-top:5px">Status : Berhasil Upload</p>
                                        <aura:set attribute="else">
                                            <p style="color: red; margin-top:5px">Status : Gagal Upload</p>
                                            <p style="color:red;margin-top: 5px;font-weight: medium;">Error : {!file.message}</p>
                                        </aura:set>
                                </aura:if>
                            </div>
                        </div>
                     </aura:iteration>
                </aura:if>
              </div> -->
        </div>
    </div>

</aura:component>