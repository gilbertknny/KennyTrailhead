<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Agreement_ID</name>
        <label>Agreement ID</label>
        <locationX>754</locationX>
        <locationY>458</locationY>
        <actionName>AgreementID.Agreement ID</actionName>
        <actionType>externalService</actionType>
        <connector>
            <targetReference>Debug_After_Call</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Debug_Fault</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>X-Idempotency-Key</name>
            <value>
                <elementReference>Create_IdempotencyKey</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>X-Apikey</name>
            <value>
                <stringValue>SALESFORCE_INGRESS_123</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>body</name>
            <value>
                <elementReference>RequestBody</elementReference>
            </value>
        </inputParameters>
        <nameSegment>AgreementID.Agreement ID</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <actionCalls>
        <name>Create_IdempotencyKey</name>
        <label>Create IdempotencyKey</label>
        <locationX>754</locationX>
        <locationY>134</locationY>
        <actionName>UUIDV4Generator</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Set_Request_Body</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <nameSegment>UUIDV4Generator</nameSegment>
        <offset>0</offset>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>62.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Add_Error</name>
        <label>Add Error</label>
        <locationX>754</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>Errors</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Transform_Error</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Errors</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>,</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_to_Tranform_Error_Type_2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Debug_After_Call</name>
        <label>Debug After Call</label>
        <locationX>754</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>DebugLog</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>API Called</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>DebugLog</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Agreement_ID.responseCode</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_HTTP_Code</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Debug_After_Set_Body_Request</name>
        <label>Debug After Set Body Request</label>
        <locationX>754</locationX>
        <locationY>350</locationY>
        <assignmentItems>
            <assignToReference>DebugLog</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>After Body Request</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Agreement_ID</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Debug_Fault</name>
        <label>Debug Fault</label>
        <locationX>1722</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>DebugLog</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Process Fault Executed </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.FaultMessage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentStage</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Debug_No_Error_Type_Selected</name>
        <label>Debug No Error Type Selected</label>
        <locationX>1194</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>DebugLog</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>No Error Type Selected</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Debug_Other_HTTP_Code</name>
        <label>Debug Other HTTP Code</label>
        <locationX>1458</locationX>
        <locationY>782</locationY>
        <assignmentItems>
            <assignToReference>DebugLog</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Agreement_ID.responseCode</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>GeneratedAgreementID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>GeneratedAgreementNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>GeneratedApplicationID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>HTTP </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Agreement_ID.responseCode</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_Output_for_4XX</name>
        <label>Set Output for Error Type 2</label>
        <locationX>666</locationX>
        <locationY>1298</locationY>
        <assignmentItems>
            <assignToReference>GeneratedAgreementID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>GeneratedAgreementNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>GeneratedApplicationID</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RemoveCommaInError</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_Output_For_Error_Type_1</name>
        <label>Set Output For Error Type 1</label>
        <locationX>314</locationX>
        <locationY>998</locationY>
        <assignmentItems>
            <assignToReference>DebugLog</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Error Type 1</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Transform_Error_Type_1</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_Output_For_Error_Type_3</name>
        <label>Set Output For Error Type 3</label>
        <locationX>930</locationX>
        <locationY>998</locationY>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Transform_Error_Type_3</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_Output_Values</name>
        <label>Set Output Values</label>
        <locationX>50</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>GeneratedAgreementID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Transform_Agreement_ID</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>GeneratedAgreementNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Transform_Agreement_Number</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>GeneratedApplicationID</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Transform_Application_ID</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ErrorMsg</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RemoveCommaInError</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_Request_Body</name>
        <label>Set Request Body</label>
        <locationX>754</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>RequestBody.soax5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.soax5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.activityx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.activityx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.isx5fautox5fgolive</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.isx5fautox5fgolive</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.workflow</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.workflow</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.channel</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.channel</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.assetx5finsurancex5fcalculationx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.assetx5finsurancex5fcalculationx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.lifex5finsurancex5fcalculationx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.lifex5finsurancex5fcalculationx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.creditx5finsurancex5fcalculationx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.creditx5finsurancex5fcalculationx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.santunanx5finsurancex5fcalculationx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.santunanx5finsurancex5fcalculationx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.rsax5finsurancex5fcalculationx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.rsax5finsurancex5fcalculationx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.confinsx5fbeneficiaryx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.confinsx5fbeneficiaryx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.branchx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.branchx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.applicationx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.applicationx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.customerx5fcifx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.customerx5fcifx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.productx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.productx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.packagex5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.packagex5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.customerx5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.customerx5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.otrx5fprice</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.otrx5fprice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.downx5fpaymentx5famount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.downx5fpaymentx5famount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.ntfx5famount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.ntfx5famount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.capitalizedx5fntfx5famount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.capitalizedx5fntfx5famount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.fundingx5famount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.fundingx5famount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.interestx5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.interestx5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.effectivex5frate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.effectivex5frate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.adjustedx5feffectivex5frate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.adjustedx5feffectivex5frate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.supplierx5frate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.supplierx5frate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.tenor</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.tenor</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.tenorx5funit</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.tenorx5funit</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.adminx5ffeex5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.adminx5ffeex5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.provisionx5ffeex5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.provisionx5ffeex5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.fiduciax5ffeex5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.fiduciax5ffeex5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.notaryx5ffeex5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.notaryx5ffeex5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.effectivex5fdate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.effectivex5fdate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.golivex5fdate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.golivex5fdate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.agreementx5fdate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.agreementx5fdate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.disbursementx5fdate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.disbursementx5fdate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.surveyx5fdate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.surveyx5fdate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.installmentx5fscheme</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.installmentx5fscheme</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.stepx5fupx5fdownx5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.stepx5fupx5fdownx5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.latex5fchargex5fmethod</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.latex5fchargex5fmethod</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.cumx5ftenor</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.cumx5ftenor</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.installmentx5fallocationx5ftype</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.installmentx5fallocationx5ftype</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.firstx5finstallment</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.firstx5finstallment</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.beneficiaryx5faccountx5fnum</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.beneficiaryx5faccountx5fnum</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.beneficiaryx5faccountx5fname</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.beneficiaryx5faccountx5fname</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.beneficiaryx5faccountx5fbankx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.beneficiaryx5faccountx5fbankx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.beneficiaryx5faccountx5fbankx5fbranch</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.beneficiaryx5faccountx5fbankx5fbranch</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.beneficiaryx5famount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.beneficiaryx5famount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.financingx5ftypex5fcode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.financingx5ftypex5fcode</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.fees</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FeeList</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.collaterals</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>CollateralList</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.installments</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>InstallmentList</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.surveyorx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.surveyorx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.assignmentx5fsurveyx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.assignmentx5fsurveyx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.referralx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.referralx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.marketingx5fid</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.marketingx5fid</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RequestBody.supplierx5fname</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>MainData.supplierx5fname</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Debug_After_Set_Body_Request</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Check_HTTP_Code</name>
        <label>Check HTTP Code</label>
        <locationX>754</locationX>
        <locationY>674</locationY>
        <defaultConnector>
            <targetReference>Debug_Other_HTTP_Code</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>OTHER HTTP CODE</defaultConnectorLabel>
        <rules>
            <name>HTTP_2XX</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Agreement_ID.responseCode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>200.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Agreement_ID.responseCode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>201.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Transform_Agreement_ID</targetReference>
            </connector>
            <label>HTTP 2XX</label>
        </rules>
        <rules>
            <name>HTTP_4XX</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Agreement_ID.responseCode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>400.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Agreement_ID.responseCode</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>425.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Which_type_of_error</targetReference>
            </connector>
            <label>HTTP 4XX</label>
        </rules>
    </decisions>
    <decisions>
        <name>Which_type_of_error</name>
        <label>Which type of error</label>
        <locationX>754</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <targetReference>Debug_No_Error_Type_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Type_1_Basic</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Agreement_ID.4XXExc.oneOfObject1.error.message</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Transform_Error_Type_1</targetReference>
            </connector>
            <label>Type 1 (Basic)</label>
        </rules>
        <rules>
            <name>Type_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Agreement_ID.4XXExc.oneOfObject2.error.attributes</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_to_Tranform_Error_Type_2</targetReference>
            </connector>
            <label>Type 2 (Array)</label>
        </rules>
        <rules>
            <name>Type_3_425</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Agreement_ID.4XXExc.oneOfObject3.message</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Transform_Error_Type_3</targetReference>
            </connector>
            <label>Type 3 (425)</label>
        </rules>
    </decisions>
    <environments>Default</environments>
    <formulas>
        <name>RemoveCommaInError</name>
        <dataType>String</dataType>
        <expression>IF(
    LEFT({!Errors}, 1) = &quot;,&quot;, 
    IF(
        RIGHT(MID({!Errors}, 2, LEN({!Errors}) - 1), 1) = &quot;,&quot;, 
        LEFT(MID({!Errors}, 2, LEN({!Errors}) - 1), LEN(MID({!Errors}, 2, LEN({!Errors}) - 1)) - 1), 
        MID({!Errors}, 2, LEN({!Errors}) - 1)
    ), 
    IF(
        RIGHT({!Errors}, 1) = &quot;,&quot;, 
        LEFT({!Errors}, LEN({!Errors}) - 1), 
        {!Errors}
    )
)</expression>
    </formulas>
    <interviewLabel>Agreement ID {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Agreement ID</label>
    <loops>
        <name>Loop_to_Tranform_Error_Type_2</name>
        <label>Loop to Tranform Error Type 2</label>
        <locationX>666</locationX>
        <locationY>890</locationY>
        <collectionReference>Agreement_ID.4XXExc.oneOfObject2.error.attributes</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Transform_Error</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Set_Output_for_4XX</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <runInMode>DefaultMode</runInMode>
    <start>
        <locationX>628</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Create_IdempotencyKey</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <transforms>
        <name>Transform_Agreement_ID</name>
        <label>Transform Agreement ID</label>
        <locationX>50</locationX>
        <locationY>782</locationY>
        <connector>
            <targetReference>Transform_Agreement_Number</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Agreement_ID.2XX.agreementx5fid</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Transform_Agreement_Number</name>
        <label>Transform Agreement Number</label>
        <locationX>50</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>Transform_Application_ID</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Agreement_ID.2XX.agreementx5fnumber</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Transform_Application_ID</name>
        <label>Transform Application ID</label>
        <locationX>50</locationX>
        <locationY>998</locationY>
        <connector>
            <targetReference>Set_Output_Values</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Agreement_ID.2XX.applicationx5fid</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Transform_Error</name>
        <label>Transform Error</label>
        <locationX>754</locationX>
        <locationY>998</locationY>
        <connector>
            <targetReference>Add_Error</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Loop_to_Tranform_Error_Type_2.message</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Transform_Error_Type_1</name>
        <label>Transform Error Type 1</label>
        <locationX>314</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>Set_Output_For_Error_Type_1</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Agreement_ID.4XXExc.oneOfObject1.error.message</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <name>Transform_Error_Type_3</name>
        <label>Transform Error Type 3</label>
        <locationX>930</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>Set_Output_For_Error_Type_3</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Agreement_ID.4XXExc.oneOfObject3.message</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <variables>
        <name>CollateralList</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_IN_body_collaterals</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>DebugLog</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ErrorMsg</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Errors</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ErrorType1</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_EXC_4XX_oneOfObject1</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ErrorType2</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_EXC_4XX_oneOfObject2</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>ErrorType3</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_EXC_4XX_oneOfObject3</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>FeeList</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_IN_body_fees</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>GeneratedAgreementID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>GeneratedAgreementNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>GeneratedApplicationID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>GeneratedID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>InstallmentList</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_IN_body_installments</apexClass>
        <dataType>Apex</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>MainData</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_IN_body</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>RequestBody</name>
        <apexClass>ExternalService__AgreementID_Agreementx20ID_IN_body</apexClass>
        <dataType>Apex</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
