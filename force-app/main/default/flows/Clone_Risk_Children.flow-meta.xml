<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>65.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Coverage_Single_Var_to_Collection</name>
        <label>Assign Coverage Single Var to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>varCoverageCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varCoverageSingle</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Through_Coverage</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Single_Asset_to_Collection</name>
        <label>Assign Single Asset to Collection</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>varAssetCollection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varAssetSingle</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_Through_Assets</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clone_Asset_to_Single_Var</name>
        <label>Clone Asset to Single Var</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>varAssetSingle.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Name</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Amount_Insured__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Amount_Insured__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Any_One_Shipment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Any_One_Shipment__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Brand__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Brand__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Declare_Value__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Declare_Value__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Deductible__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Deductible__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Description</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Description</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Detail_Description__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Detail_Description__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Detail_Description_Un_Named__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Detail_Description_Un_Named__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Estimate_Annual_Shipment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Estimate_Annual_Shipment__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Indemnity_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Indemnity_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Interest_Insured_Detail_Description__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Interest_Insured_Detail_Description__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Maximum_Indemnity_Period__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Maximum_Indemnity_Period__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.No_Of_Person_to_Cover__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.No_Of_Person_to_Cover__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Number_of_Unit__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Number_of_Unit__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.On_Shipment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.On_Shipment__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Sum_Insured_for_Maximum_Indemnity_Period__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Sum_Insured_for_Maximum_Indemnity_Period__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.Year_of_Manufacture__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.Year_of_Manufacture__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.ParentId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Risk_Cloned_Record.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAssetSingle.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Assets.RecordTypeId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Single_Asset_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clone_Coverage_to_Single_Var</name>
        <label>Clone Coverage to Single Var</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Coverage_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Coverage_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.CoverageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.CoverageName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Banks_Fee__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Banks_Fee__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Banks_Fee_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Banks_Fee_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Banks_Fee_Comission__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Banks_Fee_Comission__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Commision__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Commision__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Commision_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Commision_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Commision_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Commision_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Deductible__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Deductible__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Deductible_Currency_LU__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Deductible_Currency_LU__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Deductible_PCT__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Deductible_PCT__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Deductible_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Deductible_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.DeductibleAmount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.DeductibleAmount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Description</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Description</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Discount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Discount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Discount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Discount_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Discount_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Final_Approved_Premi_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Final_Approved_Premi_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Fix_Proposed_Rate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Fix_Proposed_Rate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Fixed_Premi_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Fixed_Premi_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Leasing_Fee__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Leasing_Fee__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Leasing_Fee_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Leasing_Fee_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Overdng_Comission__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Overdng_Comission__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Overriding_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Overriding_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Premi_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Premi_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Propose_Rate__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Propose_Rate__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Proposed_Fixed_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Proposed_Fixed_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Risk_Closing_Fee_BSP_Amount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Risk_Closing_Fee_BSP_Amount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Risk_Closing_Survey_Fee_BSP__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.Risk_Closing_Survey_Fee_BSP__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.InsurancePolicyId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_Through_Coverage.InsurancePolicyId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varCoverageSingle.Risk_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Risk_Cloned_Record.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Coverage_Single_Var_to_Collection</targetReference>
        </connector>
    </assignments>
    <environments>Default</environments>
    <interviewLabel>Clone Risk Children {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Clone Risk Children</label>
    <loops>
        <name>Loop_Through_Assets</name>
        <label>Loop Through Assets</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>Get_Original_Assets_from_Origin_Risk</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Clone_Asset_to_Single_Var</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Cloned_Assets</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_Through_Coverage</name>
        <label>Loop Through Coverage</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <collectionReference>Get_Original_Coverage_from_Origin_Risk</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Clone_Coverage_to_Single_Var</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Create_Clone_Coverages</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_Clone_Coverages</name>
        <label>Create Clone Coverages</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <inputReference>varCoverageCollection</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Cloned_Assets</name>
        <label>Create Cloned Assets</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Pause_Interview</targetReference>
        </connector>
        <inputReference>varAssetCollection</inputReference>
    </recordCreates>
    <recordLookups>
        <name>Get_Original_Assets_from_Origin_Risk</name>
        <label>Get Original Assets from Origin Risk</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Through_Assets</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Record_Type_Asset.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>ParentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Risk_Cloned_Record.Origin_Risk__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Asset</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Original_Coverage_from_Origin_Risk</name>
        <label>Get Original Coverage from Origin Risk</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_Through_Coverage</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Risk_ID__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Risk_Cloned_Record.Origin_Risk__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>InsurancePolicyCoverage</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Record_Type_Asset</name>
        <label>Get Record Type Asset</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Original_Assets_from_Origin_Risk</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Asset</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Asset</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <queriedFields>Id</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Risk_Cloned_Record</name>
        <label>Get Risk Cloned Record</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Record_Type_Asset</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>riskId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Asset</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <start>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Risk_Cloned_Record</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>riskId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varAssetCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>varAssetSingle</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Asset</objectType>
    </variables>
    <variables>
        <name>varCoverageCollection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>InsurancePolicyCoverage</objectType>
    </variables>
    <variables>
        <name>varCoverageSingle</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>InsurancePolicyCoverage</objectType>
    </variables>
    <waits>
        <name>Pause_Interview</name>
        <elementSubtype>WaitDuration</elementSubtype>
        <label>Pause Interview</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Path</defaultConnectorLabel>
        <waitEvents>
            <conditionLogic>and</conditionLogic>
            <connector>
                <targetReference>Get_Original_Coverage_from_Origin_Risk</targetReference>
            </connector>
            <label>el_0</label>
            <offset>1</offset>
            <offsetUnit>Minutes</offsetUnit>
        </waitEvents>
    </waits>
</Flow>
